window.bitcoin=new class{constructor(){this.isConnected=!1,this.accounts=[],this.listeners={}}async request(e){return new Promise(((s,t)=>{const r=Math.random().toString(36).substring(7);window.postMessage({type:"FROM_PAGE",...e,id:r},"*");const n=e=>{e.source===window&&"FROM_EXTENSION"===e.data.type&&e.data.id===r&&(window.removeEventListener("message",n),console.log("Received response:",e.data),e.data.error?t(new Error(e.data.error)):!1===e.data.success?t(new Error(e.data.error||"User rejected request")):s(e.data))};window.addEventListener("message",n),setTimeout((()=>{window.removeEventListener("message",n),t(new Error("Request timed out"))}),3e4)}))}on(e,s){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(s)}emit(e,s){this.listeners[e]&&this.listeners[e].forEach((e=>e(s)))}},window.dispatchEvent(new Event("bitcoinProviderReady"));